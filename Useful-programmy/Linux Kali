

https://cyberguru.tech/%D1%85%D0%B0%D0%BA%D0%B8%D0%BD%D0%B3/kali-linux-2020persistence




Руководство по Kali Linux 2020. Установка с сохранением данных и полная настройка системы. + Слив курса по Kali Linux

В этом руководстве мы создадим Kali Linux 2020 Live USB в Windows и настроим сохранение файлов между перезагрузками, а также разберём то, как полностью настроить систему

    Взлом, хакинг
    Хакинг

7 432

В этом руководстве мы создадим Kali Linux 2020 Live USB в Windows и настроим постоянный раздел, чтобы мы могли сохранять файлы и настройки между перезагрузками. Дальше мы разберём то, как полностью настроить систему для работы после установки. А в конце вас ждёт курс по изучению этой операционной системы. *Это руководство также работает с Kali Linux 2019 и 2018.
Установка

    Загрузите образ Kali Linux 2020 (Live)

В этом руководстве мы используем 64-битный (прямой) образ Kali Linux, хотя он также должен хорошо работать с 32-битным образом.
Запись Kali Linux 2020 Live ISO на USB

Запишите ISO-образ на USB-накопитель с помощью инструмента Universal USB Installer или UNetbootin. В этом руководстве мы используем Universal USB Installer.

    Запустите Universal USB Installer.
    Выберите Kali Linux из выпадающего меню. (Кали указан в списке «Безопасность и проникновение»).
    Укажите загруженный ISO-образ Kali Linux 2020 Live.
    Выберите свой USB-накопитель в выпадающем меню.
    Теперь установите флажок  Fat32 Format Drive (стирает содержимое на флешке) .
    Наконец, нажмите « Создать» .

Запись Kali Linux 2020 Live ISO на USB может занять несколько минут.
Создание Kali Linux Live USB с помощью универсального установщика USB
Изменение размера раздела USB

Теперь, когда ISO-образ Kali Linux 2020 записан на USB-накопитель, мы можем приступить к настройке разделов для работы с Kali Live Persistence. Вы можете настроить разделы с помощью менеджера разделов по вашему выбору, но в этом руководстве мы будем использовать MiniTool Partition Wizard

    Скачать MiniTool Partition Wizard Free Edition для Windows

После установки запустите и выберите « Управление дисками и разделами».
MiniTool Partition Wizard - Управление дисками и разделами

Щелкните правой кнопкой мыши по синей полосе на вашем USB-накопителе, и выберите « Переместить / изменить размер» . В приведенном ниже примере USB-накопитель – это диск 3, поверх которого отображается синий значок USB.

Измените размер раздела до 4 ГБ и нажмите ОК. Это раздел, в котором находятся системные файлы Kali Linux, и ему не нужно больше 4 ГБ.
Создание постоянного раздела

Теперь мы создадим раздел persistence, в котором будут храниться ваши личные файлы и настройки Kali.

Щелкните правой кнопкой мыши на нераспределенном разделе и нажмите «Создать» .

Нажмите  Да,  если вы видите сообщение  “Новый созданный раздел не может быть использован в Windows. Потому что Windows может распознать только первый раздел на съемном диске. Вы хотите продолжить?”

В раскрывающемся списке Файловая система выберите EXT4 .

В поле Метка раздела введите persistence. Важно, чтобы вы написали это правильно.

Используйте максимально доступный размер раздела (или размер по вашему выбору) и нажмите OK .

Наконец, нажмите Применить в верхнем левом углу и нажмите Да, чтобы применить изменения.

Мастер разделов теперь настроит ваши разделы. Это может занять некоторое время в зависимости от размера вашего USB-накопителя.

После этого закройте Мастер разделов и безопасно извлеките USB-накопитель.
Загрузитесь в Kali 2020 Live USB

Для загрузки с USB вам нужно зайти в BOOT-меню (На всех компьютерах разные способы, вам нужно загуглить). И далее в BOOT-меню выбрать свою флешку

После загрузки, в меню Kali выберите Live system (persistence, check kali.org/prst)  и нажмите  Enter . Меню может немного отличаться в зависимости от вашей версии Kali.

    Кали должен загрузиться прямо на рабочий стол. Однако, если вы получаете запрос пароля, то имя пользователя и пароль по умолчанию в Kali Linux 2020 – «kali» . Для Kali Linux 2019 и ниже пользователь по умолчанию – «root», а пароль – « toor» .

Монтирование Persistence-раздела

Как только Kali загрузится, мы будем использовать fdisk для просмотра дисковые устройства и разделов.

Откройте новое окно терминала и запустите:

sudo fdisk -l

Вы увидите несколько записей для разделов и устройств в списке. Ищите свой USB-накопитель. Он будет иметь два раздела: раздел на 4 ГБ и постоянный раздел, созданный ранее. Раздел Persistence должен отображаться как Linux в столбце Type.

Device     Boot    Start       End   Sectors   Size Id Type
/dev/sdb1           2048   8390655   8388608     4G  c W95 FAT32 (LBA)
/dev/sdb2        8390656  30463999  22073344  10.5G 83 Linux

В приведенном выше примере мы видим USB-накопитель с разделом 4 ГБ и с именем устройства sdb2. Это имя устройства может отличаться в вашем случае. Убедитесь, что у вы запомнили ваше правильное, в моём случае это sdb2

ВАЖНО:  Вы должны точно ввести эти команды и убедиться, что вы выбрали правильное устройство (ваше может и не быть sdb2), иначе сохранение не будет работать.

Создайте новую точку монтирования с именем my_usb.

sudo mkdir -p /mnt/my_usb

Смонтируйте свой раздел USB для сохранения my_usb. Напоминание: ваш раздел persistence может не быть sdb2, пожалуйста, убедитесь, что вы установили правильный.

sudo mount /dev/sdb2 /mnt/my_usb

Создайте новый файл persistence.conf с помощью текстового редактора nano.

sudo nano /mnt/my_usb/persistence.conf

В этом файле /mnt/my_usb/persistence.conf введите 

/ union

Сохраните файл и выйдите. (Нажмите CTRL+ X, нажмите Y, затем нажмите ENTER).

Теперь размонтируйте ваш постоянный раздел.

sudo umount /dev/sdb2

Готово!

Перезагрузите компьютер, снова загрузитесь с USB и с этого момента всегда выбирайте Live system (persistence, check kali.org/prst)

Чтобы проверить, правильно ли работает сохранение данных, попробуйте создать пустую тестовую папку на рабочем столе и перезапустить. Снова выберите Live system (persistence, check kali.org/prst) и, если папка для тестирования все еще там, сохранение работает правильно.
Настройка системы
Установите часовой пояс

После того, как вы войдете в систему с правами root, первое, что вы заметите, это то, что время может быть неправильно установлено, и это вызовет проблемы при доступе к веб-сайтам. Вы можете легко изменить его, используя графический интерфейс:

Щелкните правой кнопкой мыши на часах сверху
Установите часовой пояс

Выберите Свойства
Выберите Свойства

Установите местное время. Вы также можете найти множество атрибутов для изменения по умолчанию
Установите местное время
Включить звук загрузки

Одной из проблем, с которыми сталкиваются пользователи Kali, является отсутствие звука при установке. Чтобы включить его, введите команду в терминале

# apt-get install alsa-utils-y

Включить звук загрузки
Update и Upgrade

Рекомендуется Update и Upgrade все устаревшие репозитории, чтобы повысить производительность

# apt-get update && apt upgrade

Обновление и обновление

Apt-update обновит доступные пакеты и версии

Apt upgrade установит новую версию имеющихся у вас пакетов
Установить новый пароль для root

При установке ОС вы указали пароль, но что если вы захотите изменить пароль через некоторое время? Вот команда для легкого изменения пароля root:

# passwd

Установить новый пароль для root

Таким образом, вы можете легко изменить свой пароль, набрав только одну команду.
Добавить учетную запись с низким уровнем привилегий

Вы получили приглашение к учетной записи root, но при запуске от имени учетной записи root существует вероятность того, что небольшая ошибка в приложении может стереть некоторые системные файлы, поэтому в любой операционной системе рекомендуется запускать как пользователь без полномочий root с низким уровнем доступа. Чтобы создать нового пользователя с низкими привилегиями:

# adduser [USERNAME]

Добавить учетную запись с низким уровнем привилегий

Добавьте этого пользователя в группу Sudoers для запуска корневых команд:

# usermode –aG sudo ehacking

Судо группа
Судо группа

После этого напишите команду для настройки нового пользователя для BASH:

$ chsh –s /bin/bash ehacking

логин оболочки ehacking

Установка оболочки входа пользователя ehacking в /bin/bash
Установить Git

Git – обязательный инструмент для этических хакеров, стремящихся увеличить свой набор инструментов по сравнению с тем, что уже установлено в стандартных репозиториях Kali. Чтобы установить Git, просто наберите:

# apt-get install git

Установить Git
Установите ваши любимые инструменты взлома

В Kali Linux уже есть много инструментов для взлома и тестирования, например (Wireshark , Aircrack-ng , BeEF , Burp Suite , Hydra , Nikto , Maltego , Nmap), но что если вы захотите установить свой любимый инструмент, который вам нужен? Я собираюсь использовать для конкретной задачи, например, мне нужно атаковать сеть Wi-Fi с помощью Airgeddon, потому что он автоматизирует с помощью различных инструментов, поэтому вам не нужно вводить команды. Я могу установить Airgeddon в Kali Linux, набрав команду на терминале:

#cd Desktop

#git clone https://github.com/v1s1t0r1sh3r3/airgeddon.git

Получите ваши любимые инструменты взлома

Дайте разрешения, чтобы сделать его исполняемым, набрав:

# chmod + x airgeddon.sh

Запустите файл:

#./airgeddon.sh

Запустите файл
Установите браузер TOR

Onion Router (TOR) – это бесплатное программное обеспечение с открытым исходным кодом для анонимного общения. Он предназначен для того, чтобы люди не могли отслеживать ваши привычки, в том числе правительственные учреждения и корпорации. Вы можете установить браузер TOR, добавив репозиторий TOR в свой репозиторий APT:

#  echo ‘deb https://deb.torproject.org/torproject.org stretch main

deb-src https://deb.torproject.org/torproject.org stretch main’ > /etc/apt/sources.list.d/tor.list

затем загрузите ключ пакета и импортируйте его в ваш набор ключей APT:

# wget -O- https://deb.torproject.org/torproject.org/A3C4F0F979CAA22CDBA8F512EE8CBC9E886DDD89.asc | sudo apt-key add –

Введите apt-get update:
Установить браузер TOR

После обновления установите TOR:

# apt-get install tor deb.torproject.org-keyring

После обновления установите TOR
Установить Tilix

Tilix – это эмулятор терминала с открытым исходным кодом, который использует виджет VTE GTK + 3, обладающий некоторыми удивительными функциями, такими как макеты терминалов любым способом, разделяя их по горизонтали или вертикали, и ввод можно синхронизировать между терминалами, чтобы команды, набранные в одном терминале, реплицировались в другие
Установить Tilix

Введите tilix
Введите tilix при появлении запроса на запуск
Установить редактор кода

Atom editor – очень хороший текстовый редактор в Kali Linux. Чтобы установить Atom введите:

#apt-get install gconf2 gconf-service gvfs-bin libgconf-2-4 gconf2-common

Установить редактор кода

#cd Downloads

#dpkg -i atom-amd64.deb

Загрузки
Атом
Вывод

Сегодня, мы разобрали то, как установить Kali Linux 2020 на флешку с сохранением данных, а также рассмотрели необходимые для работы инструменты и команды, которые вы можете использовать после установки Kali Linux. Если вы хотите прокачиваться в этой теме, то советую вам пройти этот слитый курс, по работе в Kali Linux – https://yadi.sk/d/Oz93swq1OMRhCw
